<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wukang555.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="版本控制（Revision control）是一种在开发的过程中用于管理我们对文件、目录或工程等内容的修改历史，方便查看更改历史记录，备份以便恢复以前的版本的软件工程技术。Git是协同开发的最常用工具。">
<meta property="og:type" content="article">
<meta property="og:title" content="代码规范_04_Git协同">
<meta property="og:url" content="https://wukang555.github.io/2022/05/19/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83_04_Git%E5%8D%8F%E5%90%8C/index.html">
<meta property="og:site_name" content="落风的风">
<meta property="og:description" content="版本控制（Revision control）是一种在开发的过程中用于管理我们对文件、目录或工程等内容的修改历史，方便查看更改历史记录，备份以便恢复以前的版本的软件工程技术。Git是协同开发的最常用工具。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://kmknkk.oss-cn-beijing.aliyuncs.com/image/git.jpg">
<meta property="og:image" content="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220114092338.png">
<meta property="og:image" content="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220114112613.png">
<meta property="og:image" content="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220114120159.png">
<meta property="og:image" content="http://images2015.cnblogs.com/blog/524341/201701/524341-20170112192235150-1905124194.png">
<meta property="og:image" content="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220217174754.png">
<meta property="og:image" content="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220218151834.png">
<meta property="og:image" content="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220218165247.png">
<meta property="og:image" content="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220218165622.png">
<meta property="og:image" content="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220218171348.png">
<meta property="og:image" content="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220218180110.png">
<meta property="article:published_time" content="2022-05-19T15:58:00.000Z">
<meta property="article:modified_time" content="2022-05-19T02:16:43.479Z">
<meta property="article:author" content="Wu kang">
<meta property="article:tag" content="Git">
<meta property="article:tag" content="协同开发">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://kmknkk.oss-cn-beijing.aliyuncs.com/image/git.jpg">

<link rel="canonical" href="https://wukang555.github.io/2022/05/19/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83_04_Git%E5%8D%8F%E5%90%8C/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-cn'
  };
</script>

  <title>代码规范_04_Git协同 | 落风的风</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="落风的风" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">落风的风</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://wukang555.github.io/2022/05/19/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83_04_Git%E5%8D%8F%E5%90%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Wu kang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="落风的风">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          代码规范_04_Git协同
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-05-19 23:58:00 / Modified: 10:16:43" itemprop="dateCreated datePublished" datetime="2022-05-19T23:58:00+08:00">2022-05-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/" itemprop="url" rel="index"><span itemprop="name">代码规范</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>版本控制（Revision control）是一种在开发的过程中用于管理我们对文件、目录或工程等内容的修改历史，方便查看更改历史记录，备份以便恢复以前的版本的软件工程技术。Git是协同开发的最常用工具。</p>
<a id="more"></a>

<blockquote>
<p>理论部分主要是狂神git视频的笔记</p>
<p>第5节主要记录实习过程遇到的诸多git问题</p>
</blockquote>
<p>最常用的命令 没有之一</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b feature/wuzhikang #新建分支并切换到该分支</span><br><span class="line">git status</span><br><span class="line">git log --oneline</span><br></pre></td></tr></table></figure>

<h1 id="1-什么是版本控制"><a href="#1-什么是版本控制" class="headerlink" title="1 什么是版本控制"></a>1 什么是版本控制</h1><p>版本控制（Revision control）是一种在开发的过程中用于管理我们对文件、目录或工程等内容的修改历史，方便查看更改历史记录，备份以便恢复以前的版本的软件工程技术。</p>
<ul>
<li>实现跨区域多人协同开发</li>
<li>追踪和记载一个或者多个文件的历史记录</li>
<li>组织和保护你的源代码和文档</li>
<li>统计工作量</li>
<li>并行开发、提高开发效率</li>
<li>跟踪记录整个软件的开发过程</li>
<li>减轻开发人员的负担，节省时间，同时降低人为错误</li>
</ul>
<p>简单说就是用于管理多人协同开发项目的技术。Git是最优秀的分布式版本控制系统，最初Linus Benedic Torvalds开发的目的是为了Linux内核系统的版本控制。</p>
<h1 id="2-Git的安装和基本命令"><a href="#2-Git的安装和基本命令" class="headerlink" title="2 Git的安装和基本命令"></a>2 Git的安装和基本命令</h1><h2 id="Git安装"><a href="#Git安装" class="headerlink" title="Git安装"></a>Git安装</h2><ul>
<li>下载地址淘宝镜像网站<a target="_blank" rel="noopener" href="http://npm.taobao.org/mirrors/git-for-windows/">http://npm.taobao.org/mirrors/git-for-windows/</a></li>
<li>我这里下载了一个Git-2.33.0-64-bit.exe的安装包。选择开发软件安装路径，然后无脑安装（查看器可以选择notepad++）。会自动帮你配置环境变量</li>
<li>配置账号名和邮箱，任意路径下点开git bush</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;wukang&quot;</span><br><span class="line">git config --global user.email &quot;67363085@qq.com&quot;</span><br><span class="line">git config --global --list #查看配置</span><br></pre></td></tr></table></figure>

<p>实际上git的配置都保存在本地</p>
<ul>
<li>Git\etc\gitconfig     # Git 安装目录下的 gitconfig   –system 系统级</li>
<li>C:\Users\Administrator\ .gitconfig   #只适用于当前登录用户的配置  –global 全局</li>
</ul>
<h2 id="常用的Linux命令"><a href="#常用的Linux命令" class="headerlink" title="常用的Linux命令"></a>常用的Linux命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">cd #切换目录</span><br><span class="line">cd [绝对路径] #切换至该绝对路径下</span><br><span class="line">cd /  #表示切换到根目录下</span><br><span class="line">cd ..  #表示返回上一级目录</span><br><span class="line"></span><br><span class="line">ls #查看当前下的目录、可能时最常用的命令</span><br><span class="line">ls -a #查看当前目录下的所有目录，包括隐藏</span><br><span class="line">ls -l #列出当前下目录的包含文件的属性与权限等等数据；(常用)</span><br><span class="line">ls -al #列出当前下目录的包含文件的属性与权限等等数据,包括隐藏</span><br><span class="line">ls / #查看根目录/下的目录</span><br><span class="line"></span><br><span class="line">pwd #显示目前所在的目录</span><br><span class="line">pwd -P # 如果是链接，要显示真实地址</span><br><span class="line"></span><br><span class="line">mkdir -p test2/test3/test4 # 用-p递归创建层级目录</span><br><span class="line">rmdir -p test2/test3/test4 #递归删除文件</span><br><span class="line"></span><br><span class="line">cp /root/install.sh /home #将install.sh 复制到home文件夹中</span><br><span class="line"></span><br><span class="line">clear #清屏</span><br><span class="line">exit #退出</span><br></pre></td></tr></table></figure>

<h1 id="3-Git基本理论（重要）"><a href="#3-Git基本理论（重要）" class="headerlink" title="3 Git基本理论（重要）"></a>3 Git基本理论（重要）</h1><h2 id="1-Git的工作区域"><a href="#1-Git的工作区域" class="headerlink" title="1 Git的工作区域"></a>1 Git的工作区域</h2><p>Git本地有三个工作区域：工作目录（Working Directory）、暂存区(Stage/Index)、资源库(Repository或Git Directory)。远处有一个远程git仓库（Remote Directory）。状态变化最主要的几个操作分别是<strong>add、commit、push和pull、fetch</strong>。</p>
<img src="http://kmknkk.oss-cn-beijing.aliyuncs.com/image/git.jpg" alt="img" style="zoom: 80%;">

<ul>
<li>Remote：远程仓库，就是git上面的所有已经上传过的代码，所有协同开发人员都可以随时获取（即pull或fetch）</li>
<li>Repository：资源库（我更喜欢叫本地库），就是你本地这个主机修改过的代码经过提交后的版本（未提交的不算）。也就是idea右下角点开分支目录，这些分支都是你本地的版本</li>
<li>Working Directory：工作目录，就是本地这个主机的未提交的代码的版本（就是我们工作的地方！！正在码代码的这个版本）</li>
<li>Index：暂存区，新修改或者新建的代码通过add后放入暂存区。但不重要（但在我都是add&amp;commit一起执行）</li>
</ul>
<h2 id="2-文件的几种状态"><a href="#2-文件的几种状态" class="headerlink" title="2 文件的几种状态"></a>2 文件的几种状态</h2><p>git管理的文件有几种状态：未跟踪（Untracked），已修改（modified）,已暂存（staged）,已提交(committed)</p>
<img src="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220114092338.png" alt="image-20220114092338934" style="zoom:67%;">

<ul>
<li><p>Untracked: 未跟踪, 此文件在文件夹中, 但并没有加入到git库, 不参与版本控制. 通过git add 状态变为Staged.</p>
</li>
<li><p>Unmodify: 文件已经入库, 未修改, 即版本库中的文件快照内容与文件夹中完全一致. 这种类型的文件有两种去处, 如果它被修改, 而变为Modified. 如果使用git rm移出版本库, 则成为Untracked文件</p>
</li>
<li><p>Modified: 文件已修改, 仅仅是修改, 并没有进行其他的操作. 这个文件也有两个去处, 通过git add可进入暂存staged状态, 使用git checkout 则丢弃修改过, 返回到unmodify状态, 这个git checkout即从库中取出文件, 覆盖当前修改 !</p>
</li>
<li><p>Staged: 暂存状态. 执行git commit则将修改同步到库中, 这时库中的文件和本地文件又变为一致, 文件为Unmodify状态. 执行git reset HEAD filename取消暂存, 文件状态为Modified</p>
</li>
</ul>
<p>查看文件的状态：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">查看指定文件状态</span></span><br><span class="line">git status [filename]</span><br><span class="line"><span class="meta">#</span><span class="bash">查看所有文件状态</span></span><br><span class="line">git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改文件状态</span></span><br><span class="line">git add .                        #添加所有文件到暂存区</span><br><span class="line">git commit -m &quot;消息内容bababa&quot;    #提交暂存区中的内容到本地仓库 -m 提交信息</span><br></pre></td></tr></table></figure>

<p>忽略文件：有些时候我们不想把某些文件纳入版本控制中，比如数据库文件，临时文件，设计文件等。需要在主目录下建立”.gitignore”文件。此文件夹内适用如下规则</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">为注释</span></span><br><span class="line">*.txt        #忽略所有 .txt结尾的文件,这样的话上传就不会被选中！</span><br><span class="line">!lib.txt     #但lib.txt除外</span><br><span class="line">/temp        #仅忽略项目根目录下的TODO文件,不包括其它目录temp</span><br><span class="line">build/       #忽略build/目录下的所有文件</span><br><span class="line">doc/*.txt    #会忽略 doc/notes.txt 但不包括 doc/server/arch.txt</span><br></pre></td></tr></table></figure>

<h1 id="4-Git的使用"><a href="#4-Git的使用" class="headerlink" title="4 Git的使用"></a>4 Git的使用</h1><h2 id="1-Git的基本使用"><a href="#1-Git的基本使用" class="headerlink" title="1 Git的基本使用"></a>1 Git的基本使用</h2><ul>
<li>1 先登录码云，然后为本地机器添加一个SSH公钥。码云上创建一个空项目作为远程仓库。</li>
</ul>
<img src="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220114112613.png" alt="image-20220114112613923" style="zoom:67%;">

<ul>
<li>2 将该项目克隆到本地，比如C:\IdeaProjects文件夹下。记得选择<strong>SSH链接</strong>的形式克隆</li>
<li>3 idea新建spring项目比如hello-01，将克隆<code>gitstudy</code>下所有文件复制进hello-01项目目录</li>
<li>4 观察学习idea中git的命令和按钮。<ul>
<li>右上角有update、commit和push</li>
<li>左下角有git图标，可以查看版本信息</li>
<li>Terminal标签窗口可以执行git命令</li>
<li>任意文件右键，有git命令选择</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 命令行常见操作</span></span><br><span class="line">git add .                       #添加所有文件到暂存区</span><br><span class="line">git commit -m &quot;本次提交了****&quot;    #提交暂存区中的内容到本地仓库 -m 提交信息</span><br><span class="line">git push                        #提交</span><br></pre></td></tr></table></figure>

<h2 id="2-Git常用命令"><a href="#2-Git常用命令" class="headerlink" title="2 Git常用命令"></a>2 Git常用命令</h2><img src="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220114120159.png" alt="image-20220114120159076" style="zoom:67%;">

<h3 id="git命令之branch"><a href="#git命令之branch" class="headerlink" title="git命令之branch"></a>git命令之branch</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 列出所有本地分支</span></span><br><span class="line">git branch</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 列出所有远程分支</span></span><br><span class="line">git branch -r</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建一个分支，但依然停留在当前分支</span></span><br><span class="line">git branch [branch-name]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建一个分支，并切换到该分支</span></span><br><span class="line">git checkout -b [branch]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 合并指定分支到当前分支</span></span><br><span class="line">git merge [branch]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">切换至某分支</span></span><br><span class="line">git checkout [branch]                </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除分支</span></span><br><span class="line">git branch -d [branch-name]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除远程分支</span></span><br><span class="line">git push origin --delete [branch-name]</span><br><span class="line">git branch -dr [remote/branch]</span><br></pre></td></tr></table></figure>

<h3 id="git命令之add、commit、restore"><a href="#git命令之add、commit、restore" class="headerlink" title="git命令之add、commit、restore"></a>git命令之add、commit、restore</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 添加指定文件到暂存区 </span></span><br><span class="line">git add [file1] [file2] ...</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加指定目录到暂存区，包括子目录 </span></span><br><span class="line">git add [dir]</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加当前目录的所有文件到暂存区 </span></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 提交暂存区到仓库区 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m [message]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 提交暂存区的指定文件到仓库区 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit [file1] [file2] ... -m [message]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 提交工作区自上次commit之后的变化，直接到仓库区 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -a</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 提交时显示所有diff信息 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -v</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用一次新的commit，替代上一次提交 <span class="comment"># 如果代码没有任何新变化，则用来改写上一次commit的提交信息 </span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit --amend -m [message]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重做上一次commit，并包括指定文件的新变化 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit --amend [file1] [file2] ...</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 将在工作空间但是不在暂存区的文件撤销更改,文件的修改将消失（丢失）</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git restore &lt;file&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 作用是将暂存区的文件从暂存区撤出，但不会更改文件</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git restore --staged &lt;file&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="git命令之checkout、reset"><a href="#git命令之checkout、reset" class="headerlink" title="git命令之checkout、reset"></a>git命令之checkout、reset</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 恢复暂存区的指定文件到工作区 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 恢复某个commit的指定文件到暂存区和工作区 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout [commit] [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 恢复暂存区的所有文件到工作区 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout .</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重置暂存区与工作区，与上一次commit保持一致 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重置当前HEAD为指定commit，但保持暂存区和工作区不变 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --keep [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建一个commit，用来撤销指定commit <span class="comment"># 后者的所有变化都将被前者抵消，并且应用到当前分支 </span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git revert [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 暂时将未提交的变化移除，稍后再移入 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash pop</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 生成一个可供发布的压缩包 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git archive</span></span><br></pre></td></tr></table></figure>

<h3 id="git命令之查看信息"><a href="#git命令之查看信息" class="headerlink" title="git命令之查看信息"></a>git命令之查看信息</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 显示有变更的文件 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示当前分支的版本历史 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示commit历史，以及每次commit发生变更的文件 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --<span class="built_in">stat</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 搜索提交历史，根据关键词 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> -S [keyword]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某个commit之后的所有变动，每个commit占据一行 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> [tag] HEAD --pretty=format:%s</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某个commit之后的所有变动，其<span class="string">&quot;提交说明&quot;</span>必须符合搜索条件 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> [tag] HEAD --grep feature</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某个文件的版本历史，包括文件改名 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --follow [file]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git whatchanged [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示指定文件相关的每一次diff </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> -p [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示过去5次提交 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> -5 --pretty --oneline</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示所有提交过的用户，按提交次数排序 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git shortlog -sn</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示指定文件是什么人在什么时间修改过 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git blame [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示暂存区和工作区的差异 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示暂存区和上一个commit的差异</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff --cached [file]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示工作区与当前分支最新commit之间的差异 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff HEAD</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示两次提交之间的差异 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff [first-branch]...[second-branch]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示今天你写了多少行代码 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff --shortstat <span class="string">&quot;@&#123;0 day ago&#125;&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某次提交的元数据和内容变化 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git show [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某次提交发生变化的文件 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git show --name-only [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某次提交时，某个文件的内容 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git show [commit]:[filename]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示当前分支的最近几次提交 </span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reflog</span></span><br></pre></td></tr></table></figure>







<h2 id="3-Commit-message格式"><a href="#3-Commit-message格式" class="headerlink" title="3 Commit message格式"></a>3 Commit message格式</h2><blockquote>
<p>Git的核心是commit，所以写好commit信息极其重要。</p>
<p>方式一：提交信息只能有一行</p>
<p>git commit [fileName] -m “commit message”</p>
<p>方式二：使用vim编辑方式，提交现信息可以多行（推荐这种，可以按规范来）</p>
<p>git commit [fileName]</p>
</blockquote>
<p>Commit message规范如下：<strong>Header 第一行是必需的，Body 和 Footer 可以省略。</strong>不管是哪一个部分，任何一行都不得超过72个字符（或100个字符）。这是为了避免自动换行影响美观。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;footer&gt;</span><br></pre></td></tr></table></figure>

<p><strong>（1）type</strong></p>
<p><code>type</code>用于说明 commit 的类别，只允许使用下面7个标识。</p>
<ul>
<li>feat：新功能（feature）</li>
<li>fix：修补bug</li>
<li>docs：文档（documentation）</li>
<li>style： 格式（不影响代码运行的变动）</li>
<li>refactor：重构（即不是新增功能，也不是修改bug的代码变动）</li>
<li>test：增加测试</li>
<li>chore：构建过程或辅助工具的变动</li>
</ul>
<p>如果<code>type</code>为<code>feat</code>和<code>fix</code>，则该 commit 将肯定出现在 Change log 之中。其他情况（<code>docs</code>、<code>chore</code>、<code>style</code>、<code>refactor</code>、<code>test</code>）由你决定，要不要放入 Change log，建议是不要。</p>
<p><strong>（2）scope</strong></p>
<p><code>scope</code>用于说明 commit 影响的范围，比如数据层、控制层、视图层等等，视项目不同而不同。</p>
<p><strong>（3）subject</strong></p>
<p><code>subject</code>是 commit 目的的简短描述，不超过50个字符。</p>
<ul>
<li>以动词开头，使用第一人称现在时</li>
<li>第一个字母小写，结尾不加句号（<code>.</code>）</li>
</ul>
<p><strong>（4）body</strong></p>
<p>Body 部分是对本次 commit 的详细描述，可以分成多行。</p>
<p>有两个注意点。</p>
<ul>
<li><p>使用第一人称现在时</p>
</li>
<li><p>应该说明代码变动的动机，以及与以前行为的对比。</p>
</li>
</ul>
<p><strong>（5）Footer</strong></p>
<p>Footer 部分只用于两种情况：<strong>不兼容变动</strong>、<strong>关闭 Issue</strong></p>
<ul>
<li>如果当前代码与上一个版本不兼容，则 Footer 部分以<code>BREAKING CHANGE</code>开头，后面是对变动的描述、以及变动理由和迁移方法。</li>
<li>如果当前 commit 针对某个issue，那么可以在 Footer 部分关闭这个 issue 。</li>
</ul>
<h3 id="Revert撤销commit"><a href="#Revert撤销commit" class="headerlink" title="Revert撤销commit"></a>Revert撤销commit</h3><p><strong>还有一种特殊情况，如果当前 commit 用于撤销以前的 commit，则必须以<code>revert:</code>开头，后面跟着被撤销 Commit 的 Header。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">revert: feat(pencil): add &#39;graphiteWidth&#39; option</span><br><span class="line"></span><br><span class="line">This reverts commit 667ecc1654a317a13331b17617d973392f415f02.</span><br></pre></td></tr></table></figure>

<p>Body部分的格式是固定的，必须写成<code>This reverts commit &lt;hash&gt;.</code>，其中的<code>hash</code>是被撤销 commit 的 SHA 标识符。</p>
<h1 id="5-Git开发流程"><a href="#5-Git开发流程" class="headerlink" title="5 Git开发流程"></a>5 Git开发流程</h1><h2 id="5-1-Git-Flow"><a href="#5-1-Git-Flow" class="headerlink" title="5.1 Git Flow"></a>5.1 Git Flow</h2><blockquote>
<p>参考了<a target="_blank" rel="noopener" href="https://blog.csdn.net/xingbaozhen1210/article/details/81386269">博文</a>，关于分支的介绍和主要的工作流程都介绍的很好</p>
</blockquote>
<p>Git官方给的流程：</p>
<img src="http://images2015.cnblogs.com/blog/524341/201701/524341-20170112192235150-1905124194.png" alt="img" style="zoom: 33%;">

<p>由上图可知，GitFlow的常用分支有：master、develop、feature、release、hotfix。分支介绍如下：</p>
<p><strong>master</strong></p>
<ul>
<li>主分支 , 产品的功能全部实现后 , 最终在master分支对外发布</li>
<li>该分支为<strong>只读</strong>唯一分支 , 只能从其他分支(release/hotfix)合并 , 不能在此分支修改</li>
<li>另外所有在master分支的推送应该打标签做记录,方便追溯</li>
<li>例如release合并到master , 或hotfix合并到master</li>
</ul>
<p><strong>develop</strong></p>
<ul>
<li>主开发分支 , 基于master分支克隆</li>
<li>包含所有要发布到下一个release的代码</li>
<li>该分支为只读唯一分支 , 只能从其他分支合并</li>
<li>feature功能分支完成 , 合并到develop(不推送)</li>
<li>develop拉取release分支 , 提测</li>
<li>release/hotfix 分支上线完毕 , 合并到develop并推送</li>
</ul>
<p><strong>feature</strong></p>
<ul>
<li>功能开发分支 , 基于develop分支克隆 , 主要用于新需求新功能的开发</li>
<li>功能开发完毕后合到develop分支(未正式上线之前不推送到远程中央仓库!!!)</li>
<li>feature分支可同时存在多个 , 用于团队中多个功能同时开发 , 属于临时分支 , 功能完成后可选删除</li>
</ul>
<p><strong>release</strong></p>
<ul>
<li>测试分支 , 基于feature分支合并到develop之后  , 从develop分支克隆</li>
<li>主要用于提交给测试人员进行功能测试 , 测试过程中发现的BUG在本分支进行修复 , 修复完成上线后合并到develop/master分支并推送(完成功能) , 打Tag</li>
<li>属于临时分支 , 功能上线后可选删除</li>
</ul>
<p><strong>hotfix</strong></p>
<ul>
<li>补丁分支 , 基于master分支克隆 , 主要用于对线上的版本进行BUG修复</li>
<li>修复完毕后合并到develop/master分支并推送 , 打Tag</li>
<li>属于临时分支 , 补丁修复上线后可选删除</li>
<li>所有hotfix分支的修改会进入到下一个release</li>
</ul>
<p>公司的项目流程：</p>
<p><img src="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220217174754.png" alt="image-20220217174754792"></p>
<p>作为开发人员，我们公司的大致流程就是：</p>
<ul>
<li>1 master分支poll更新拉取最新的代码，新建分支fix或feature</li>
<li>2 本地开发并调试，完成后commit、pull、push，push完成后请求合并test分支，更新测试环境并进行测试</li>
<li>3 将分支代码merge合并到master分支，并上线</li>
</ul>
<h2 id="5-2-场景最佳实践"><a href="#5-2-场景最佳实践" class="headerlink" title="5.2 场景最佳实践"></a>5.2 场景最佳实践</h2><blockquote>
<p>此部分参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_39517199/article/details/110660836?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_utm_term~default-8.pc_relevant_default&spm=1001.2101.3001.4242.5&utm_relevant_index=11">博客</a></p>
</blockquote>
<p><strong>先介绍一下最常用的3个Git指令！！</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status # 充分、及时了解当前的 git 状态可以避免一些误操作</span><br></pre></td></tr></table></figure>

<p>我通常在 <strong>写完代码后、做任何git操作前、做复杂的git操作的途中(比如 rebase、merge遇到冲突时)和 做完任何git操作后</strong>，都会使用 git status去查看当前的状态 —— 哪些文件还在工作区(还没 git add)、哪些文件还在暂存区(还没 git commit)或者 rebase、merge 的进展等。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --oneline # 打印出最近的commit messages，每条message只占一行，使界面更干净、美观。</span><br></pre></td></tr></table></figure>

<p>我通常会在 <strong>切换分支的前后，拉取线上分支的前后</strong> 使用git log –oneline，它能帮我根据 commit message 确认我当前的分支以及当前分支是否是最新的 (前提是每次 commit 时一定要认真填写 commit message)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit  # commit 是git 设计中的核心</span><br></pre></td></tr></table></figure>

<p>在日常开发工作中，我通常会在 <strong>写完一部分代码后，准备暂时休息前或确认某个功能/bug处理完成后</strong> 使用 <strong>git add</strong> 和 <strong>git commit</strong> 来保存代码到本地仓库。</p>
<p>记住：只要正确地 commit了，代码就几乎永远不会丢失。</p>
<h3 id="场景一：新任务-开发新特性-修bug"><a href="#场景一：新任务-开发新特性-修bug" class="headerlink" title="场景一：新任务(开发新特性 / 修bug)"></a>场景一：新任务(开发新特性 / 修bug)</h3><blockquote>
<p>一般的业务需求都是这个场景</p>
</blockquote>
<ul>
<li><p>1 <strong>git status</strong> 查看当前项目的状态，如果有未保存的修改，就保存和提交修改</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">git add .</span><br><span class="line">git commit [fileName] #使用vim方式提交message</span><br></pre></td></tr></table></figure>
</li>
<li><p>2 切换到开发主分支develop，并确认主分支是最新的版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout develop</span><br><span class="line">git pull origin develop</span><br></pre></td></tr></table></figure>
</li>
<li><p>3 创建新的开发分支feature/newFunctionWK，并在该分支上进行开发</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b feature/newFunctionWK</span><br></pre></td></tr></table></figure>
</li>
<li><p>4 开发过程如果当前任务比较复杂，代码量比较多，通常会多次使用 <strong>git add .</strong> 和 <strong>git commit</strong> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">git add .</span><br><span class="line">git commit [fileName] #使用vim方式提交message</span><br><span class="line"><span class="meta">#</span><span class="bash">message需要按照规范写清楚，第一行为标题，空格行后写详细的备注</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>5 代码开发结束，整理合并 commit message，代码步骤如下：</p>
<blockquote>
<p>前面说过多次 commit 是为了防止意外丢失代码，但是在推到远端之前，最好把一次开发的 commit 合并成一个，避免污染远端的 git commit message，</p>
</blockquote>
<ul>
<li>首先git status确保所有代码都提交了</li>
<li>然后git logl查看当前分支下最近所有的commit，比如最近我有两个关于fix：规范代码的提交</li>
<li>执行git rebase -i HEAD命令</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">git log --oneline #oneline可加可不加</span><br><span class="line">git rebase -i HEAD~2 #合并本地最近两次的commit</span><br><span class="line"><span class="meta">#</span><span class="bash"> git rebase -i [startpoint] [endpoint] <span class="comment">#也可以指定两个commit的点如下</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> git rebase -i 23cc2cabb387f4ba43b7b0daa4d0aa40847a7cc6 22e4245da8330644f865c5eb582fc857ed109685</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 正常应该是在控制台vim编辑修改，但我这个会弹窗Nodepad++,如下图,要更新的代码如下</span></span><br><span class="line">git rebase --continue #再执行这个</span><br><span class="line"><span class="meta">#</span><span class="bash"> 然后继续编辑合并两条message,原图如下，要修改部分如下代码</span></span><br><span class="line"></span><br><span class="line">git log #查看日志，发现两条commit已经合并为1条</span><br></pre></td></tr></table></figure>

<p><img src="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220218151834.png" alt="image-20220218151826942"></p>
<img src="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220218165247.png" alt="image-20220218165247203">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pick 22e4245 fix：代码规范</span><br><span class="line">squash 23cc2ca fix：代码规范</span><br></pre></td></tr></table></figure>

<p><img src="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220218165622.png" alt="image-20220218165622637"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fix：代码规范&amp;更新时可以指定初稿状态</span><br><span class="line"></span><br><span class="line">更优雅的判断新建文章和更新文章的判断</span><br><span class="line">添加更新文章时指定初稿状态仍然可以作为初稿的逻辑判断</span><br></pre></td></tr></table></figure>

<p><img src="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220218171348.png" alt="img"></p>
</li>
<li><p><strong>6 push本分支到远端仓库，然后上git上请求合并</strong></p>
<ul>
<li>这里为了避免冲突，一般还有其他的实施方案：</li>
<li>1 先切换到develop分支，poll拉最新的代码</li>
<li>2 然后在本地将feature/newFunctionWK分支合并到本地的develop分支，如果出现冲突就解决冲突</li>
<li>3 将本地的develop分支push到远端仓库（此时远端develop就是最新的已经合并的代码了）</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin develop</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="场景二：开发进行一半，需要远端主分支的最新代码"><a href="#场景二：开发进行一半，需要远端主分支的最新代码" class="headerlink" title="场景二：开发进行一半，需要远端主分支的最新代码"></a>场景二：开发进行一半，需要远端主分支的最新代码</h3><blockquote>
<p>背景：有些时候，你在本地开发某个功能，代码写到一半，某个同事将某些重要代码合进了**远端的主分支(如 develop 分支)**里。这些重要代码可能是可以极大提升本地开发效率，可能是加入了某些规范检查或者是跟你当前开发相关的代码 —— 总之需要你将那部分代码融入你当前的本地开发环境里。</p>
</blockquote>
<p>三个步骤如下：</p>
<ul>
<li><strong>git status</strong> 查看当前项目的状态，如果有未保存的修改，就<strong>git add .</strong> 和 <strong>git commit</strong> 保存下来</li>
<li><strong>git pull –rebase origin develop</strong> 使用这个指令将远端的主分支develop以 rebase 的形式 “合进”当前分支<ul>
<li>执行这条命令之前，需要保证没有文件处于modified状态</li>
<li>如果有文件处于modified而这个修改又不应该commit，比如application.yml，就先移除这个修改：git restore  <file></file></li>
</ul>
</li>
<li><strong>git log –oneline</strong> 查看当前分支下的 commit message 是否符合预期</li>
</ul>
<p>为什么用 –rebase 呢？</p>
<p>因为这么做，可以让git历史最干净、整洁 —— 所有本地开发的 commit 都会出现在远端主分支里的 commit 之后；并且可以避免额外引入一次 merge 的 commit(避免本地多执行一次merge)</p>
<h3 id="场景三：希望把某个分支中的-commit-对应的代码复制到当前分支"><a href="#场景三：希望把某个分支中的-commit-对应的代码复制到当前分支" class="headerlink" title="场景三：希望把某个分支中的 commit 对应的代码复制到当前分支"></a>场景三：希望把某个分支中的 commit 对应的代码复制到当前分支</h3><blockquote>
<p>有时我会创建一些实验性的分支，写一些实验性的代码，如果代码不可行，我可以直接废弃掉这个分支，返回原本的开发分支中；<strong>如果这些实验性代码可行，我会返回开发分支中，然后把实验性分支的那部分代码“复制”过来</strong></p>
</blockquote>
<p>具体操作如下：</p>
<ul>
<li><p><strong>git status</strong> 查看当前项目的状态，如果有未保存的修改，就<strong>git add .</strong> 和 <strong>git commit</strong> 保存下来</p>
</li>
<li><p>假设我们需要的是 feature/newFunctionWK 这个分支的某个 commit ，使用 <strong>git log –oneline feature/newFunctionWK</strong> 查看最近这个分支的所有 commit 记录</p>
<p><img src="https://blog-figure.oss-cn-hangzhou.aliyuncs.com//img/20220218180110.png" alt="img"></p>
</li>
<li><p>使用 <strong>git cherry-pick 50dd556</strong> 将这个 commit 对应的代码复制到当前分支</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">git add .</span><br><span class="line">git commit [fileName] #使用vim方式提交message</span><br><span class="line"></span><br><span class="line">git log --oneline feature/newFunctionWK #查询commit日志</span><br><span class="line"></span><br><span class="line">git cherry-pick 50dd556 #复制50dd556这个commit到当前分支</span><br></pre></td></tr></table></figure>



<h2 id="5-3-使用git的原则和可能的问题"><a href="#5-3-使用git的原则和可能的问题" class="headerlink" title="5.3 使用git的原则和可能的问题"></a>5.3 使用git的原则和可能的问题</h2><blockquote>
<p>1 check分支之前需要先下拉代码</p>
<p>2 如何解决merge代码冲突的问题</p>
<p>3 为什么出现merge代码不完整的问题</p>
</blockquote>
<h3 id="使用git的原则（习惯）"><a href="#使用git的原则（习惯）" class="headerlink" title="使用git的原则（习惯）"></a>使用git的原则（习惯）</h3><ol>
<li>永远记得 git st 和 git logl 来确认当前分支的状态</li>
<li>宁愿临时制造一些无用的 commit 来保证代码不会丢失，也不要轻信自己的记忆力</li>
<li>谨慎(最好能避免)使用 git stash ，极易造成代码丢失</li>
<li>认真对待、编写每次的 commit message —— 它们能在关键时刻救你一命</li>
<li>必要的时候可以创建一些临时的分支写实验性的代码，而不是依赖 git reset 撤销 commit —— 大多数人在 git reset 的时候容易犯错误</li>
</ol>
<h3 id="出现冲突如何解决（git-merge-conflict）"><a href="#出现冲突如何解决（git-merge-conflict）" class="headerlink" title="出现冲突如何解决（git merge conflict）"></a>出现冲突如何解决（git merge conflict）</h3><blockquote>
<p>参考博文<a target="_blank" rel="noopener" href="https://blog.csdn.net/u012150179/article/details/14047183">https://blog.csdn.net/u012150179/article/details/14047183</a></p>
</blockquote>
<p>一个解决的方法就是push之前先poll</p>

    </div>

    <div>
      
          
<div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">
              -------------感谢阅读<i class="fa fa-paw"></i>没事常来-------------
        </div>
    
</div>
      
    </div>
    
    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Git/" rel="tag"># Git</a>
              <a href="/tags/%E5%8D%8F%E5%90%8C%E5%BC%80%E5%8F%91/" rel="tag"># 协同开发</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/05/19/%E6%95%B0%E6%8D%AE%E5%BA%93_01_mysql%E8%AF%AD%E6%B3%95&%E7%BB%83%E4%B9%A0/" rel="prev" title="mysql语法&练习">
      <i class="fa fa-chevron-left"></i> mysql语法&练习
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/05/19/1_push%E6%B5%81%E7%A8%8B/" rel="next" title="git+hexo博客推送流程">
      git+hexo博客推送流程 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6"><span class="nav-number">1.</span> <span class="nav-text">1 什么是版本控制</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-Git%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="nav-number">2.</span> <span class="nav-text">2 Git的安装和基本命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git%E5%AE%89%E8%A3%85"><span class="nav-number">2.1.</span> <span class="nav-text">Git安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84Linux%E5%91%BD%E4%BB%A4"><span class="nav-number">2.2.</span> <span class="nav-text">常用的Linux命令</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-Git%E5%9F%BA%E6%9C%AC%E7%90%86%E8%AE%BA%EF%BC%88%E9%87%8D%E8%A6%81%EF%BC%89"><span class="nav-number">3.</span> <span class="nav-text">3 Git基本理论（重要）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Git%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%9F%9F"><span class="nav-number">3.1.</span> <span class="nav-text">1 Git的工作区域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E6%96%87%E4%BB%B6%E7%9A%84%E5%87%A0%E7%A7%8D%E7%8A%B6%E6%80%81"><span class="nav-number">3.2.</span> <span class="nav-text">2 文件的几种状态</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-Git%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">4.</span> <span class="nav-text">4 Git的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Git%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-number">4.1.</span> <span class="nav-text">1 Git的基本使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">4.2.</span> <span class="nav-text">2 Git常用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#git%E5%91%BD%E4%BB%A4%E4%B9%8Bbranch"><span class="nav-number">4.2.1.</span> <span class="nav-text">git命令之branch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git%E5%91%BD%E4%BB%A4%E4%B9%8Badd%E3%80%81commit%E3%80%81restore"><span class="nav-number">4.2.2.</span> <span class="nav-text">git命令之add、commit、restore</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git%E5%91%BD%E4%BB%A4%E4%B9%8Bcheckout%E3%80%81reset"><span class="nav-number">4.2.3.</span> <span class="nav-text">git命令之checkout、reset</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git%E5%91%BD%E4%BB%A4%E4%B9%8B%E6%9F%A5%E7%9C%8B%E4%BF%A1%E6%81%AF"><span class="nav-number">4.2.4.</span> <span class="nav-text">git命令之查看信息</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-Commit-message%E6%A0%BC%E5%BC%8F"><span class="nav-number">4.3.</span> <span class="nav-text">3 Commit message格式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Revert%E6%92%A4%E9%94%80commit"><span class="nav-number">4.3.1.</span> <span class="nav-text">Revert撤销commit</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-Git%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B"><span class="nav-number">5.</span> <span class="nav-text">5 Git开发流程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-Git-Flow"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 Git Flow</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-%E5%9C%BA%E6%99%AF%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 场景最佳实践</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF%E4%B8%80%EF%BC%9A%E6%96%B0%E4%BB%BB%E5%8A%A1-%E5%BC%80%E5%8F%91%E6%96%B0%E7%89%B9%E6%80%A7-%E4%BF%AEbug"><span class="nav-number">5.2.1.</span> <span class="nav-text">场景一：新任务(开发新特性 &#x2F; 修bug)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF%E4%BA%8C%EF%BC%9A%E5%BC%80%E5%8F%91%E8%BF%9B%E8%A1%8C%E4%B8%80%E5%8D%8A%EF%BC%8C%E9%9C%80%E8%A6%81%E8%BF%9C%E7%AB%AF%E4%B8%BB%E5%88%86%E6%94%AF%E7%9A%84%E6%9C%80%E6%96%B0%E4%BB%A3%E7%A0%81"><span class="nav-number">5.2.2.</span> <span class="nav-text">场景二：开发进行一半，需要远端主分支的最新代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF%E4%B8%89%EF%BC%9A%E5%B8%8C%E6%9C%9B%E6%8A%8A%E6%9F%90%E4%B8%AA%E5%88%86%E6%94%AF%E4%B8%AD%E7%9A%84-commit-%E5%AF%B9%E5%BA%94%E7%9A%84%E4%BB%A3%E7%A0%81%E5%A4%8D%E5%88%B6%E5%88%B0%E5%BD%93%E5%89%8D%E5%88%86%E6%94%AF"><span class="nav-number">5.2.3.</span> <span class="nav-text">场景三：希望把某个分支中的 commit 对应的代码复制到当前分支</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-%E4%BD%BF%E7%94%A8git%E7%9A%84%E5%8E%9F%E5%88%99%E5%92%8C%E5%8F%AF%E8%83%BD%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">5.3.</span> <span class="nav-text">5.3 使用git的原则和可能的问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8git%E7%9A%84%E5%8E%9F%E5%88%99%EF%BC%88%E4%B9%A0%E6%83%AF%EF%BC%89"><span class="nav-number">5.3.1.</span> <span class="nav-text">使用git的原则（习惯）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BA%E7%8E%B0%E5%86%B2%E7%AA%81%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%EF%BC%88git-merge-conflict%EF%BC%89"><span class="nav-number">5.3.2.</span> <span class="nav-text">出现冲突如何解决（git merge conflict）</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Wu kang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">46</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">54</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wu kang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
