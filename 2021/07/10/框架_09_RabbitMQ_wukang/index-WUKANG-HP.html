<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wukang555.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="ç‹‚ç¥RabbitMQæ•™å­¦è§†é¢‘å­¦ä¹ ç¬”è®°ï¼ŒåŒ…æ‹¬æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»ã€RabbitMQå®‰è£…ã€RabbitMQçš„5ä¸­è®¢é˜…å’Œå‘å¸ƒçš„æ¨¡å¼Demoç­‰å†…å®¹">
<meta property="og:type" content="article">
<meta property="og:title" content="RabbitMQç¬”è®°ï¼ˆç‹‚ç¥ï¼‰">
<meta property="og:url" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/index.html">
<meta property="og:site_name" content="è½é£çš„é£">
<meta property="og:description" content="ç‹‚ç¥RabbitMQæ•™å­¦è§†é¢‘å­¦ä¹ ç¬”è®°ï¼ŒåŒ…æ‹¬æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»ã€RabbitMQå®‰è£…ã€RabbitMQçš„5ä¸­è®¢é˜…å’Œå‘å¸ƒçš„æ¨¡å¼Demoç­‰å†…å®¹">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20191212011250613.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20191212011410374.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/16ef380429cf373e.jpg">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/16ef38124f55eaea.jpg">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/16ef382a9756bb1c.jpg">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/96388546.jpg">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708005845710.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/28.jpg">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708010313311.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/2085237-20200809102359324-1482774387.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708105408993.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708124038722.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708124053092.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/2085237-20200809102550731-53218434.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708130550835.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708130948085.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708131013920.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/2085237-20200809102657148-1898536143.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/aHR0cHM6Ly9sZWlsZWlkZXYub3NzLWNuLWNoZW5nZHUuYWxpeXVuY3MuY29tL2ltZy9pbWFnZS0yMDIwMDcxNTIyMjAyODI2MS5wbmc">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/2085237-20200809102728550-2145677626.png">
<meta property="og:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/2085237-20200809102817259-1720328664.png">
<meta property="article:published_time" content="2021-07-10T14:55:00.000Z">
<meta property="article:modified_time" content="2021-07-29T02:34:52.000Z">
<meta property="article:author" content="Wu kang">
<meta property="article:tag" content="æ¡†æ¶">
<meta property="article:tag" content="RabbitMQ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20191212011250613.png">

<link rel="canonical" href="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-cn'
  };
</script>

  <title>RabbitMQç¬”è®°ï¼ˆç‹‚ç¥ï¼‰ | è½é£çš„é£</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="è½é£çš„é£" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">è½é£çš„é£</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-cn">
    <link itemprop="mainEntityOfPage" href="https://wukang555.github.io/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Wu kang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è½é£çš„é£">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          RabbitMQç¬”è®°ï¼ˆç‹‚ç¥ï¼‰
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-10 22:55:00" itemprop="dateCreated datePublished" datetime="2021-07-10T22:55:00+08:00">2021-07-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-07-29 10:34:52" itemprop="dateModified" datetime="2021-07-29T10:34:52+08:00">2021-07-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%8B%82%E7%A5%9E/" itemprop="url" rel="index"><span itemprop="name">ç‹‚ç¥</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>ç‹‚ç¥RabbitMQæ•™å­¦è§†é¢‘å­¦ä¹ ç¬”è®°ï¼ŒåŒ…æ‹¬æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»ã€RabbitMQå®‰è£…ã€RabbitMQçš„5ä¸­è®¢é˜…å’Œå‘å¸ƒçš„æ¨¡å¼Demoç­‰å†…å®¹</p>
<a id="more"></a>

<blockquote>
<p>[1] ä¸»ä½“æ˜¯ç‹‚ç¥è¯´ç³»åˆ—çš„RabbitMQæ•™ç¨‹<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1dX4y1V73G?p=1">https://www.bilibili.com/video/BV1dX4y1V73G?p=1</a></p>
<p>[2] å‚è€ƒäº†cyc2018å…³äºæ¶ˆæ¯ä¸­é—´ä»¶çš„æ–‡ç« <a target="_blank" rel="noopener" href="http://www.cyc2018.xyz/%E5%85%B6%E5%AE%83/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97.html#%E4%B8%80%E3%80%81%E6%B6%88%E6%81%AF%E6%A8%A1%E5%9E%8B">http://www.cyc2018.xyz</a></p>
<p>[3] å‚è€ƒäº†JavaGuideä¸»é¡µçš„é“¾æ¥æ–‡ç« <a target="_blank" rel="noopener" href="https://snailclimb.gitee.io/javaguide/#/docs/system-design/distributed-system/message-queue/RabbitMQ%E5%85%A5%E9%97%A8%E7%9C%8B%E8%BF%99%E4%B8%80%E7%AF%87%E5%B0%B1%E5%A4%9F%E4%BA%86">https://snailclimb.gitee.io/javaguide/#/</a></p>
</blockquote>
<h1 id="1-æ¶ˆæ¯é˜Ÿåˆ—å’ŒRabbitMQ"><a href="#1-æ¶ˆæ¯é˜Ÿåˆ—å’ŒRabbitMQ" class="headerlink" title="1 æ¶ˆæ¯é˜Ÿåˆ—å’ŒRabbitMQ"></a>1 æ¶ˆæ¯é˜Ÿåˆ—å’ŒRabbitMQ</h1><h2 id="1-1-æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»"><a href="#1-1-æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»" class="headerlink" title="1.1 æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»"></a>1.1 æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»</h2><p>æ¶ˆæ¯ç³»ç»Ÿå…è®¸è½¯ä»¶ã€åº”ç”¨ç›¸äº’è¿æ¥å’Œæ‰©å±•ï¼è¿™äº›åº”ç”¨å¯ä»¥ç›¸äº’é“¾æ¥èµ·æ¥ç»„æˆä¸€ä¸ªæ›´å¤§çš„åº”ç”¨ã€‚é€šä¿—æ¥è®²ï¼Œ<strong>æ¶ˆæ¯é˜Ÿåˆ—ç”¨æ¥å¤„ç†åˆ†å¸ƒå¼åº”ç”¨å„ä¸ªç³»ç»Ÿä¹‹é—´çš„é€šä¿¡é—®é¢˜ã€‚</strong>ï¼ˆä¸¾å‡ ä¸ªä¾‹å­ï¼Ÿæé¡¹ç›®ä¹‹åå›æ¥å†çœ‹ï¼‰</p>
<p>æ¶ˆæ¯æ¨¡å‹ä¸€èˆ¬åˆ†ä¸¤ç§ï¼šç‚¹å¯¹ç‚¹ å’Œ å‘å¸ƒ/è®¢é˜…</p>
<ul>
<li><strong>ç‚¹å¯¹ç‚¹</strong></li>
</ul>
<p>æ¶ˆæ¯ç”Ÿäº§è€…å‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­å‘é€äº†ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ä¸€æ¬¡ã€‚</p>
<p><img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20191212011250613.png" alt="img"></p>
<ul>
<li><strong>å‘å¸ƒ/è®¢é˜…</strong></li>
</ul>
<p>æ¶ˆæ¯ç”Ÿäº§è€…å‘é¢‘é“å‘é€ä¸€ä¸ªæ¶ˆæ¯ä¹‹åï¼Œå¤šä¸ªæ¶ˆè´¹è€…å¯ä»¥ä»è¯¥é¢‘é“è®¢é˜…åˆ°è¿™æ¡æ¶ˆæ¯å¹¶æ¶ˆè´¹ã€‚ï¼ˆå‘å¸ƒ/è®¢é˜…å’Œè®¾è®¡æ¨¡å¼ä¸­çš„è§‚å¯Ÿè€…æ¨¡å¼ä¸åŒï¼Œæ˜¯å¼‚æ­¥çš„å¹¶ä¸”é€šè¿‡é¢‘é“é€šä¿¡ï¼‰</p>
<p><img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20191212011410374.png" alt="img"></p>
<h2 id="1-2-æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨åœºæ™¯ã€é‡è¦ã€‘"><a href="#1-2-æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨åœºæ™¯ã€é‡è¦ã€‘" class="headerlink" title="1.2 æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨åœºæ™¯ã€é‡è¦ã€‘"></a>1.2 æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨åœºæ™¯ã€é‡è¦ã€‘</h2><p>æ¶ˆæ¯é˜Ÿåˆ—å¸¦æ¥çš„ä¼˜ç‚¹å°±æ˜¯ å¼‚æ­¥ã€å‰Šå³°å’Œè§£è€¦ï¼Œè¿™ä¸‰ç‚¹åŒæ ·ä¹Ÿæ˜¯å®ƒçš„åº”ç”¨åœºæ™¯</p>
<h3 id="å¼‚æ­¥å¤„ç†"><a href="#å¼‚æ­¥å¤„ç†" class="headerlink" title="å¼‚æ­¥å¤„ç†"></a>å¼‚æ­¥å¤„ç†</h3><p>å‘é€è€…å°†æ¶ˆæ¯å‘é€ç»™æ¶ˆæ¯é˜Ÿåˆ—ä¹‹åï¼Œä¸éœ€è¦åŒæ­¥ç­‰å¾…æ¶ˆæ¯æ¥æ”¶è€…å¤„ç†å®Œæ¯•ï¼Œè€Œæ˜¯ç«‹å³è¿”å›è¿›è¡Œå…¶å®ƒæ“ä½œã€‚æ¶ˆæ¯æ¥æ”¶è€…ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è®¢é˜…æ¶ˆæ¯ä¹‹åå¼‚æ­¥å¤„ç†ã€‚</p>
<blockquote>
<p>ä¸¾ä¸ªğŸŒ°ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªè´­ç¥¨ç³»ç»Ÿï¼Œéœ€æ±‚æ˜¯ç”¨æˆ·åœ¨è´­ä¹°å®Œä¹‹åèƒ½æ¥æ”¶åˆ°è´­ä¹°å®Œæˆçš„çŸ­ä¿¡å’Œé‚®ä»¶ã€‚</p>
<p>çœç•¥ä¸­é—´çš„ç½‘ç»œé€šä¿¡æ—¶é—´æ¶ˆè€—ï¼Œå‡è®¾è´­ç¥¨ç³»ç»Ÿå¤„ç†éœ€è¦ 150ms ï¼ŒçŸ­ä¿¡ç³»ç»Ÿå¤„ç†éœ€è¦ 200msï¼Œé‚®ä»¶ç³»ç»Ÿå¤„ç†éœ€è¦ 200ms</p>
</blockquote>
<ul>
<li>å¦‚æœé‡‡ç”¨åŒæ­¥çš„å¤„ç†ï¼šéœ€è¦ç­‰å¾…çŸ­ä¿¡ã€é‚®ä»¶éƒ½å¤„ç†å•Šå®Œæ¯•åï¼Œæ‰è¡¨ç¤ºè´­ç¥¨æˆåŠŸ<ul>
<li>æ‰€éœ€æ—¶é—´150ms + 200ms + 200ms = 550ms</li>
</ul>
</li>
</ul>
<p><img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/16ef380429cf373e.jpg" alt="img"></p>
<ul>
<li>å¦‚æœé‡‡ç”¨å¼‚æ­¥çš„å¤„ç†ï¼Œåœ¨è´­ç¥¨ç³»ç»Ÿå’ŒçŸ­ä¿¡ã€é‚®ä»¶ç³»ç»Ÿä¸­å¢åŠ ä¸€ä¸ªä¸­é—´ä»¶â€”â€”æ¶ˆæ¯é˜Ÿåˆ—ã€‚æˆ‘ä»¬å°†æ¶ˆæ¯å­˜å…¥æ¶ˆæ¯é˜Ÿåˆ—ä¹‹åï¼Œå°±ä»£è¡¨è´­ç¥¨æˆåŠŸã€<ul>
<li>150ms + 10ms = 160msã€‚</li>
</ul>
</li>
</ul>
<p><img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/16ef38124f55eaea.jpg" alt="img"></p>
<h3 id="æµé‡å‰Šé”‹"><a href="#æµé‡å‰Šé”‹" class="headerlink" title="æµé‡å‰Šé”‹"></a>æµé‡å‰Šé”‹</h3><p>åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¦‚æœçŸ­æ—¶é—´æœ‰å¤§é‡çš„è¯·æ±‚åˆ°è¾¾ä¼šå‹å®æœåŠ¡å™¨ã€‚</p>
<p>å¯ä»¥å°†è¯·æ±‚å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼ŒæœåŠ¡å™¨æŒ‰ç…§å…¶å¤„ç†èƒ½åŠ›ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è®¢é˜…æ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚</p>
<blockquote>
<p>è¿˜æ˜¯è´­ç¥¨ç³»ç»Ÿçš„æ —å­ï¼š</p>
<p>ä¸»ä¸šåŠ¡è´­ç¥¨ç³»ç»Ÿçš„æµé‡æ‰¿å—èƒ½åŠ›è¾ƒå¼ºã€ä½†çŸ­ä¿¡å’Œé‚®ä»¶ç³»ç»Ÿä¸€èˆ¬é…å¤‡çš„ç¡¬ä»¶èµ„æºä¸ä¼šå¤ªé«˜ï¼Œæ— æ³•æ‰¿å—å’Œè´­ç¥¨ç³»ç»Ÿä¸€æ ·çš„æµé‡å‹åŠ›ã€‚</p>
<p>ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥å°†è´­ä¹°å®Œæˆçš„ä¿¡æ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼ŒçŸ­ä¿¡ã€é‚®ä»¶ç³»ç»Ÿ <strong>å°½è‡ªå·±æ‰€èƒ½åœ°å»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–æ¶ˆæ¯å’Œæ¶ˆè´¹æ¶ˆæ¯</strong> </p>
</blockquote>
<p><img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/16ef382a9756bb1c.jpg" alt="img"></p>
<h3 id="åº”ç”¨è§£è€¦"><a href="#åº”ç”¨è§£è€¦" class="headerlink" title="åº”ç”¨è§£è€¦"></a>åº”ç”¨è§£è€¦</h3><p>å¦‚æœæ¨¡å—ä¹‹é—´ä¸ç›´æ¥è¿›è¡Œè°ƒç”¨ï¼Œæ¨¡å—ä¹‹é—´è€¦åˆåº¦å°±ä¼šå¾ˆä½ï¼Œé‚£ä¹ˆä¿®æ”¹ä¸€ä¸ªæ¨¡å—æˆ–è€…æ–°å¢ä¸€ä¸ªæ¨¡å—å¯¹å…¶å®ƒæ¨¡å—çš„å½±å“ä¼šå¾ˆå°ï¼Œä»è€Œå®ç°å¯æ‰©å±•æ€§ã€‚</p>
<p><em>é€šè¿‡ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ¨¡å—åªéœ€è¦å‘æ¶ˆæ¯é˜Ÿåˆ—ä¸­å‘é€æ¶ˆæ¯ï¼Œå…¶å®ƒæ¨¡å—å¯ä»¥é€‰æ‹©æ€§åœ°ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è®¢é˜…æ¶ˆæ¯ä»è€Œå®Œæˆè°ƒç”¨ã€‚</em></p>
<h2 id="1-3-RabbitMQä»‹ç»"><a href="#1-3-RabbitMQä»‹ç»" class="headerlink" title="1.3 RabbitMQä»‹ç»"></a>1.3 RabbitMQä»‹ç»</h2><blockquote>
<p>ActiveMQã€ RabbitMQã€ Kafkaã€RocketMQéƒ½æ˜¯ä¸åŒçš„æ¶ˆæ¯ä¸­é—´ä»¶</p>
</blockquote>
<p>RabbitMQ æ˜¯é‡‡ç”¨ Erlang è¯­è¨€å®ç° AMQP(Advanced Message Queuing Protocolï¼Œé«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼‰çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œç”¨äºåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å­˜å‚¨è½¬å‘æ¶ˆæ¯ã€‚</p>
<h3 id="RabbitMQçš„ä¼˜ç‚¹"><a href="#RabbitMQçš„ä¼˜ç‚¹" class="headerlink" title="RabbitMQçš„ä¼˜ç‚¹"></a>RabbitMQçš„ä¼˜ç‚¹</h3><ul>
<li><strong>å¯é æ€§ï¼š</strong> RabbitMQä½¿ç”¨ä¸€äº›æœºåˆ¶æ¥ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ï¼Œå¦‚æŒä¹…åŒ–ã€ä¼ è¾“ç¡®è®¤åŠå‘å¸ƒç¡®è®¤ç­‰ã€‚</li>
<li><strong>çµæ´»çš„è·¯ç”±</strong>ï¼šæ¶ˆæ¯åœ¨åˆ°è¾¾é˜Ÿåˆ—å‰æ˜¯é€šè¿‡äº¤æ¢æœºè¿›è¡Œè·¯ç”±çš„ã€‚RabbitMQä¸ºå…¸å‹çš„è·¯ç”±é€»è¾‘æä¾›äº†å¤šç§å†…ç½®äº¤æ¢æœºç±»å‹ã€‚</li>
<li><strong>æ‰©å±•æ€§ï¼š</strong> å¤šä¸ªRabbitMQèŠ‚ç‚¹å¯ä»¥ç»„æˆä¸€ä¸ªé›†ç¾¤ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡æƒ…å†µåŠ¨æ€åœ°æ‰©å±•é›†ç¾¤ä¸­èŠ‚ç‚¹ã€‚</li>
<li><strong>é«˜å¯ç”¨æ€§ï¼š</strong> åœ¨åŒä¸€ä¸ªé›†ç¾¤é‡Œï¼Œé˜Ÿåˆ—å¯ä»¥è¢«é•œåƒåˆ°å¤šä¸ªæœºå™¨ä¸­ï¼Œä»¥ç¡®ä¿å½“å…¶ä¸­æŸäº›ç¡¬ä»¶å‡ºç°æ•…éšœåï¼Œä½ çš„æ¶ˆæ¯ä»ç„¶å®‰å…¨ã€‚</li>
</ul>
<h3 id="RabbitMQ-çš„æ•´ä½“æ¶æ„"><a href="#RabbitMQ-çš„æ•´ä½“æ¶æ„" class="headerlink" title="RabbitMQ çš„æ•´ä½“æ¶æ„"></a>RabbitMQ çš„æ•´ä½“æ¶æ„</h3><p><img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/96388546.jpg" alt="å›¾1-RabbitMQ çš„æ•´ä½“æ¨¡å‹æ¶æ„"></p>
<p>RabbitMQ æ•´ä½“ä¸Šæ˜¯ä¸€ä¸ªç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å‹ï¼Œä¸»è¦è´Ÿè´£æ¥æ”¶ã€å­˜å‚¨å’Œè½¬å‘æ¶ˆæ¯ã€‚</p>
<ul>
<li><p><strong>Producer(ç”Ÿäº§è€…)</strong> :ç”Ÿäº§æ¶ˆæ¯çš„ä¸€æ–¹ï¼ˆé‚®ä»¶æŠ•é€’è€…ï¼‰</p>
</li>
<li><p><strong>Consumer(æ¶ˆè´¹è€…)</strong> :æ¶ˆè´¹æ¶ˆæ¯çš„ä¸€æ–¹ï¼ˆé‚®ä»¶æ”¶ä»¶äººï¼‰</p>
</li>
<li><p><strong>Exchange(äº¤æ¢å™¨)</strong> ï¼šç”¨æ¥æ¥æ”¶ç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯å¹¶å°†è¿™äº›æ¶ˆæ¯è·¯ç”±ç»™æœåŠ¡å™¨ä¸­çš„é˜Ÿåˆ—ä¸­ã€‚RabbitMQ æœ‰å››ç§äº¤æ¢å™¨ç±»å‹ã€‚</p>
</li>
<li><p><strong>Queue(æ¶ˆæ¯é˜Ÿåˆ—)</strong> ï¼šç”¨æ¥ä¿å­˜æ¶ˆæ¯ç›´åˆ°å‘é€ç»™æ¶ˆè´¹è€…ã€‚å®ƒæ˜¯æ¶ˆæ¯çš„å®¹å™¨ï¼Œä¹Ÿæ˜¯æ¶ˆæ¯çš„ç»ˆç‚¹ã€‚</p>
</li>
<li><p> <strong>RabbitMQ Broker</strong> å¯ä»¥ç®€å•åœ°çœ‹ä½œä¸€ä¸ª RabbitMQ æœåŠ¡èŠ‚ç‚¹ï¼Œæˆ–è€…RabbitMQæœåŠ¡å®ä¾‹ã€‚</p>
</li>
</ul>
<h1 id="2-RabbitMQå®‰è£…"><a href="#2-RabbitMQå®‰è£…" class="headerlink" title="2 RabbitMQå®‰è£…"></a>2 RabbitMQå®‰è£…</h1><blockquote>
<p>RabbitMQå®˜ç½‘æŸ¥çœ‹ç‰ˆæœ¬æ”¯æŒï¼š<a target="_blank" rel="noopener" href="https://www.rabbitmq.com/which-erlang.html">https://www.rabbitmq.com/which-erlang.html</a>  </p>
<p>erlang å®˜ç½‘ï¼š<a target="_blank" rel="noopener" href="https://www.erlang.org/">https://www.erlang.org</a>   (ä¸è¦åœ¨è¿™é‡Œä¸‹è½½)</p>
<p>ä¸‹è½½rabbitmq-server-3.8.19-1.el7.noarch.rpmï¼š<a target="_blank" rel="noopener" href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.8.19">https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.8.19</a></p>
<p>ä¸‹è½½erlang-solutions-2.0-1.noarch.rpm <a target="_blank" rel="noopener" href="https://packages.erlang-solutions.com/erlang-solutions-2.0-1.noarch.rpm">https://packages.erlang-solutions.com/erlang-solutions-2.0-1.noarch.rpm</a></p>
<p>ç¯å¢ƒå‡†å¤‡ï¼šCentOS7.x    å®‰è£…è·¯å¾„ /usr/rabbitmq</p>
</blockquote>
<h2 id="2-1-å®‰è£…Erlangå’ŒRabbitMQ"><a href="#2-1-å®‰è£…Erlangå’ŒRabbitMQ" class="headerlink" title="2.1 å®‰è£…Erlangå’ŒRabbitMQ"></a>2.1 å®‰è£…Erlangå’ŒRabbitMQ</h2><p>Erlang</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /usr/rabbitmq <span class="comment">#å†å®‰è£…è·¯å¾„ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="built_in">cd</span> /usr/rabbitmq <span class="comment">#è¿›å…¥å®‰è£…æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="comment">#ä½¿ç”¨ XFTPå°†ä¸¤ä¸ªå®‰è£…åŒ…æ‹·è´è¿›rabbitmqæ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line">ls</span><br><span class="line"><span class="comment"># erlang-solutions-2.0-1.noarch.rpm  </span></span><br><span class="line"><span class="comment"># rabbitmq-server-3.8.19-1.el7.noarch.rpm</span></span><br><span class="line">rpm -Uvh erlang-solutions-2.0-1.noarch.rpm </span><br><span class="line">yum install -y erlang</span><br><span class="line">erl -v</span><br></pre></td></tr></table></figure>

<p>RabbitMQ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum install -y socat</span><br><span class="line">rpm -Uvh rabbitmq-server-3.8.19-1.el7.noarch.rpm <span class="comment">#æ²¡ç”¨ï¼Ÿ</span></span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">systemctl start rabbitmq-server</span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼Œå¦‚å›¾</span></span><br><span class="line">systemctl status rabbitmq-server.service</span><br><span class="line"><span class="comment"># å¼€æœºè‡ªå¯åŠ¨</span></span><br><span class="line">systemctl <span class="built_in">enable</span> rabbitmq-server</span><br><span class="line"><span class="comment"># åœæ­¢æœåŠ¡</span></span><br><span class="line">systemctl stop rabbitmq-server</span><br></pre></td></tr></table></figure>

<img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708005845710.png" alt="image-20210708005845710" style="zoom:67%;">

<h2 id="2-2-RabbitMQWebç®¡ç†ç•Œé¢"><a href="#2-2-RabbitMQWebç®¡ç†ç•Œé¢" class="headerlink" title="2.2 RabbitMQWebç®¡ç†ç•Œé¢"></a>2.2 RabbitMQWebç®¡ç†ç•Œé¢</h2><blockquote>
<p>1 å®‰è£…webç«¯æ’ä»¶</p>
<p>2 é‡å¯æœåŠ¡ï¼Œå¼€æ”¾é˜¿é‡Œäº‘çš„å®‰å…¨ç»„å’Œé˜²ç«å¢™</p>
<p>3 æµè§ˆå™¨è®¿é—®åˆå§‹ç•Œé¢</p>
<p>4 æˆæƒæ–°çš„è´¦å·å’Œå¯†ç </p>
<ul>
<li>æ–°å¢ç”¨æˆ·</li>
<li>è®¾ç½®ç”¨æˆ·çš„æ“ä½œæƒé™</li>
<li>ä¸ºç”¨æˆ·æ·»åŠ èµ„æºæƒé™</li>
</ul>
<p>5 ç½‘é¡µç™»å½•æˆåŠŸ</p>
</blockquote>
<p>1 é»˜è®¤æƒ…å†µä¸‹ï¼Œæ˜¯æ²¡æœ‰å®‰è£…webç«¯çš„å®¢æˆ·ç«¯æ’ä»¶ï¼Œéœ€è¦å®‰è£…æ‰å¯ä»¥ç”Ÿæ•ˆ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rabbitmq-plugins <span class="built_in">enable</span> rabbitmq_management</span><br><span class="line"><span class="comment"># è¯´æ˜ï¼šrabbitmqæœ‰ä¸€ä¸ªé»˜è®¤è´¦å·å’Œå¯†ç æ˜¯ï¼š`guest`é»˜è®¤æƒ…å†µåªèƒ½åœ¨ localhostæœ¬è®¡ä¸‹è®¿é—®ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ ä¸€ä¸ªè¿œç¨‹ç™»å½•çš„ç”¨æˆ·</span></span><br></pre></td></tr></table></figure>

<p>2 å®‰è£…å®Œæ¯•ä»¥åï¼Œé‡å¯æœåŠ¡å³å¯</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart rabbitmq-server #é‡å¯æœåŠ¡</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸€å®šè¦è®°ä½ï¼Œåœ¨å¯¹åº”æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ï¼‰çš„å®‰å…¨ç»„ã€é˜²ç«å¢™ä¸­å¼€æ”¾<code>15672</code>ç«¯å£</li>
</ul>
<p>3 åœ¨æµè§ˆå™¨è®¿é—® <a target="_blank" rel="noopener" href="http://47.98.220.123:15672/">http://47.98.220.123:15672/</a></p>
<p><img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/28.jpg"></p>
<p>4 <strong>æˆæƒè´¦å·å’Œå¯†ç </strong></p>
<ul>
<li>æ–°å¢ç”¨æˆ·</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rabbitmqctl add_user admin admin</span><br></pre></td></tr></table></figure>

<ul>
<li>è®¾ç½®ç”¨æˆ·åˆ†é…æ“ä½œæƒé™</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rabbitmqctl set_user_tags admin administrator</span><br><span class="line"><span class="comment"># ç”¨æˆ·çº§åˆ«ï¼š</span></span><br><span class="line"><span class="comment"># administratorï¼šå¯ä»¥ç™»å½•æ§åˆ¶å°ã€æŸ¥çœ‹æ‰€æœ‰ä¿¡æ¯ã€å¯ä»¥å¯¹ rabbitmqè¿›è¡Œç®¡ç†</span></span><br><span class="line"><span class="comment"># monitoringï¼šç›‘æ§è€… ç™»å½•æ§åˆ¶å°ï¼ŒæŸ¥çœ‹æ‰€æœ‰ä¿¡æ¯</span></span><br><span class="line"><span class="comment"># policymakerï¼šç­–ç•¥åˆ¶å®šè€… ç™»å½•æ§åˆ¶å°ï¼ŒæŒ‡å®šç­–ç•¥</span></span><br><span class="line"><span class="comment"># managment æ™®é€šç®¡ç†å‘˜ ç™»å½•æ§åˆ¶å°,åªèƒ½çœ‹è‡ªå·±çš„ä¿¡æ¯</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸ºç”¨æˆ·æ·»åŠ èµ„æºæƒé™</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rabbitmqctl set_permissions -p / admin &quot;.*&quot;&quot;.*&quot;&quot;.*&quot;</span><br></pre></td></tr></table></figure>

<p>5 ç½‘é¡µç™»å½•æˆåŠŸ è®¾ç½®çš„è´¦å·å¯†ç å‡ä¸ºadmin</p>
<ul>
<li>è®¿é—® <a target="_blank" rel="noopener" href="http://47.xx.xxx.xx:15672/">http://47.XX.XXX.XX:15672/</a></li>
</ul>
<img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708010313311.png" alt="image-20210708010313311" style="zoom:67%;">

<h1 id="3-RabbitMQäº”ç§å·¥ä½œæ¨¡å¼"><a href="#3-RabbitMQäº”ç§å·¥ä½œæ¨¡å¼" class="headerlink" title="3 RabbitMQäº”ç§å·¥ä½œæ¨¡å¼"></a>3 RabbitMQäº”ç§å·¥ä½œæ¨¡å¼</h1><p>ç”Ÿäº§è€…ã€æ¶ˆè´¹è€…æ˜¯åˆ†åˆ«ä¸¤ä¸ªé¡¹ç›®ã€é€šè¿‡RabbitMQè¿™ä¸ªæ¶ˆæ¯ä¸­é—´ä»¶çš„é€šé“è¿›è¡Œè¿æ¥ã€‚RabbitMQçš„åå°é¡µé¢ä¸Šæ˜¾ç¤ºé˜Ÿåˆ—ç­‰ä¸­é—´ä»¶é‡Œé¢æ‰€æœ‰çš„å…¨éƒ¨ä¿¡æ¯ã€‚</p>
<p>å…ˆæ­å»ºé¡¹ç›®ç¯å¢ƒ</p>
<p>1 æ–°å»ºä¸€ä¸ªç©ºé¡¹ç›®rabbitmq</p>
<p>2 ç©ºé¡¹ç›®ä¸‹æ–°å»ºä¸€ä¸ªspringbooté¡¹ç›®rabbitmq-providerï¼Œå‹¾é€‰Web å’Œ RabbitMQæ”¯æŒ</p>
<p>3 é…ç½®rabbitmq-providerçš„é…ç½®æ–‡ä»¶application.yaml</p>
<p>4 å¯¼å…¥ä¾èµ–lombok\fastjsonï¼Œç¼–å†™å®ä½“ç±»Vehicleè¡¨ç¤ºè½¦è¾†</p>
<p>5 é‡å¤234çš„æ“ä½œï¼Œæ–°å»ºä¸€ä¸ªrabbitmq-consumeré¡¹ç›®</p>
<p>6 é˜¿é‡Œäº‘å¼€å¯é˜²ç«å¢™å’Œå®‰å…¨ç»„çš„5672å’Œ5673ç«¯å£ï¼ï¼ã€é‡è¦ã€‘</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœåŠ¡ç«¯å£</span></span><br><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="comment">#æˆ‘è¿™é‡Œä»…å†™äº†ip å…¶ä½™ç«¯å£è´¦å·å¯†ç ç”±äºæ˜¯æ¼”ç¤º é‡‡ç”¨é»˜è®¤å³å¯ï¼Œä¸å¿…è¦å†™</span></span><br><span class="line">  <span class="attr">rabbitmq:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">47.98</span><span class="number">.220</span><span class="number">.123</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">5672</span></span><br><span class="line">    <span class="attr">virtual-host:</span> <span class="string">/</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">admin</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">admin</span></span><br></pre></td></tr></table></figure>

<h2 id="1ã€ç®€å•é˜Ÿåˆ—ï¼ˆEasy"><a href="#1ã€ç®€å•é˜Ÿåˆ—ï¼ˆEasy" class="headerlink" title="1ã€ç®€å•é˜Ÿåˆ—ï¼ˆEasy)"></a>1ã€ç®€å•é˜Ÿåˆ—ï¼ˆEasy)</h2><p>ã€€ã€€<img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/2085237-20200809102359324-1482774387.png" alt="img"></p>
<p>ã€€ã€€<strong>ä¸€ä¸ªç”Ÿäº§è€…å¯¹åº”ä¸€ä¸ªæ¶ˆè´¹è€…ï¼ï¼ï¼</strong></p>
<blockquote>
<p>ç”Ÿäº§è€…ï¼š</p>
<p>1 å»ºeasyåŒ… ä¸‹å†™EasyRabbitConfigé…ç½®æ–‡ä»¶ï¼Œç»™é˜Ÿåˆ—å‘½å</p>
<p>2 å†™EasyProviderServerç±»ï¼Œå‘é€JSONæ ¼å¼çš„ä¿¡æ¯</p>
<p>3 æµ‹è¯•ç±»ä¸­è°ƒç”¨Serverç±»ä¸­çš„æ–¹æ³•ï¼Œè¿è¡Œä¹‹ã€‚æŸ¥çœ‹rabbitMQåå°é¡µé¢</p>
</blockquote>
<p>1 å»ºeasyåŒ… ä¸‹å†™EasyRabbitConfigé…ç½®æ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EasyRabbitConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">easyQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">&quot;rabbit_easy_queue&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2 å†™EasyProviderServerç±»ï¼Œä¸šåŠ¡å®ç°åå‘é€JSONæ ¼å¼çš„ä¿¡æ¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EasyProviderServer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">sendEasyMessage</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">            String s = JSON.toJSONString(<span class="keyword">new</span> Vehicle(i, i + <span class="string">&quot;easyè½¦è½¦&quot;</span>));</span><br><span class="line">            rabbitTemplate.convertAndSend(<span class="string">&quot;rabbit_easy_queue&quot;</span>,s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3 æµ‹è¯•ç±»ä¸­è°ƒç”¨Serverç±»ä¸­çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RabbitmqProviderApplicationTests</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    EasyProviderServer easyProviderServer;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        easyProviderServer.sendEasyMessage();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708105408993.png" alt="image-20210708105408993"></p>
<blockquote>
<p>æ¶ˆè´¹è€…ï¼š</p>
<p>1 å»ºeasyåŒ… ä¸‹å†™EasyRabbitConfigé…ç½®æ–‡ä»¶ï¼Œç»™é˜Ÿåˆ—å‘½å</p>
<p>2 å†™EasyConsumerç±»ï¼Œæ¥å—messageä¿¡æ¯ï¼Œæ‰“å°è½¦è¾†ä¿¡æ¯</p>
<p>3 è¿è¡Œé¡¹ç›®ï¼Œæ¶ˆè´¹é˜Ÿåˆ—ä¸­çš„ä¿¡æ¯</p>
<p> // å¦‚æœæŠ¥é”™è®°å¾—å»rabbitmqæ§åˆ¶é¡µé¢Adminä¸‹è®¾ç½®adminçš„æƒé™ï¼Œç‚¹ä¸€ä¸‹å°±å¥½ï¼ï¼</p>
</blockquote>
<p>1 å»ºeasyåŒ… ä¸‹å†™EasyRabbitConfigé…ç½®æ–‡ä»¶ï¼Œç»™é˜Ÿåˆ—å‘½å</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EasyRabbitConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">easyQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">&quot;rabbit_easy_queue&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2 å†™EasyConsumerç±»ï¼Œæ¥å—messageä¿¡æ¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EasyConsumer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;rabbit_easy_queue&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">(Message message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;easyæ¨¡å¼ï¼šæ¶ˆè´¹è€…æ¥æ”¶åˆ°è½¦è¾†æ¶ˆæ¯: &quot;</span> + JSON.parseObject(<span class="keyword">new</span> String(message.getBody()), Vehicle.class));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3 è¿è¡Œé¡¹ç›®ï¼Œå‘ç°é˜Ÿåˆ—æ¸…ç©ºäº†</p>
<img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708124038722.png" alt="image-20210708124038722" style="zoom:67%;">

<img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708124053092.png" alt="image-20210708124053092" style="zoom:67%;">



<h2 id="2ã€work-æ¨¡å¼"><a href="#2ã€work-æ¨¡å¼" class="headerlink" title="2ã€work æ¨¡å¼"></a>2ã€work æ¨¡å¼</h2><p><img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/2085237-20200809102550731-53218434.png" alt="img"></p>
<p>ã€€ã€€<strong>ä¸€ä¸ªç”Ÿäº§è€…å¯¹åº”å¤šä¸ªæ¶ˆè´¹è€…ï¼Œä½†æ˜¯ä¸€æ¡æ¶ˆæ¯åªèƒ½æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…è·å¾—æ¶ˆæ¯ï¼ï¼ï¼</strong></p>
<blockquote>
<p>ç”Ÿäº§è€…ï¼šå’Œeasyçš„å®Œå…¨ä¸€è‡´ï¼Œè¿™é‡Œæ–°å»ºä¸€ä¸ªworkåŒ…</p>
</blockquote>
<p>1 WorkRabbitConfigé…ç½®æ–‡ä»¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WorkRabbitConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">//workçš„ç¥ç”Ÿäº§è€…å’Œeasyä¸€æ ·</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">workQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">&quot;rabbit_work_queue&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2 å†™WorkProviderServerç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WorkProviderServer</span> </span>&#123;</span><br><span class="line">    <span class="comment">//workæ¨¡å¼çš„ç”Ÿäº§è€…å’Œeasyçš„ä¸€æ ·</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendWorkMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            rabbitTemplate.convertAndSend(<span class="string">&quot;rabbit_work_queue&quot;</span>, JSON.toJSONString(<span class="keyword">new</span> Vehicle(i,i+<span class="string">&quot;workè½¦è½¦&quot;</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3 æµ‹è¯•ç±»ä¸­å¢åŠ ä¸€ä¸ªworkTest()æ–¹æ³•ï¼Œè¿è¡Œä¹‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">WorkProviderServer workProviderServer;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">workTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    workProviderServer.sendWorkMessage();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708130550835.png" alt="image-20210708130550835"></p>
<blockquote>
<p>æ¶ˆè´¹è€…ï¼šä¸easyä¸­ä¹Ÿå¾ˆç›¸ä¼¼ï¼Œå°±æ˜¯WorkConsumerç±»ä¸‹å¤šå†™å‡ ä¸ªæ¶ˆè´¹æ–¹æ³•ï¼ï¼å¾ˆç®€å•</p>
</blockquote>
<p>1 å†™WorkRabbitConfigé…ç½®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WorkRabbitConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">workQueue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">&quot;rabbit_work_queue&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2 å†™WorkConsumerç±»ï¼Œä¸‹é¢å«ä¸‰ä¸ªæ–¹æ³•å³ä¸‰ä¸ªæ¶ˆè´¹è€…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WorkConsumer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;rabbit_work_queue&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work1</span><span class="params">(Message message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¶ˆè´¹è€…1--work--æ¥æ”¶åˆ°è½¦è¾†æ¶ˆæ¯: &quot;</span> + JSON.parseObject(message.getBody(), Vehicle.class));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;rabbit_work_queue&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work2</span><span class="params">(Message message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¶ˆè´¹è€…2--work--æ¥æ”¶åˆ°è½¦è¾†æ¶ˆæ¯: &quot;</span> + JSON.parseObject(message.getBody(),Vehicle.class));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;rabbit_work_queue&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work3</span><span class="params">(Message message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¶ˆè´¹è€…3--work--æ¥æ”¶åˆ°è½¦è¾†æ¶ˆæ¯: &quot;</span> + JSON.parseObject(message.getBody(),Vehicle.class));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3 è¿è¡Œé¡¹ç›®ï¼Œå‘ç°é˜Ÿåˆ—æ¸…ç©ºäº†</p>
<img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708130948085.png" alt="image-20210708130948085" style="zoom:67%;">

<img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/image-20210708131013920.png" alt="image-20210708131013920" style="zoom:67%;">







<h2 id="3ã€å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼ˆFanoutï¼‰"><a href="#3ã€å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼ˆFanoutï¼‰" class="headerlink" title="3ã€å‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼ˆFanoutï¼‰"></a>3ã€å‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼ˆFanoutï¼‰</h2><p>ã€€ã€€<img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/2085237-20200809102657148-1898536143.png" alt="img"></p>
<p><strong>ä¸€ä¸ªæ¶ˆè´¹è€…å°†æ¶ˆæ¯é¦–å…ˆå‘é€åˆ°äº¤æ¢å™¨ï¼Œäº¤æ¢å™¨ç»‘å®šåˆ°å¤šä¸ªé˜Ÿåˆ—ï¼Œç„¶åè¢«ç›‘å¬è¯¥é˜Ÿåˆ—çš„æ¶ˆè´¹è€…æ‰€æ¥æ”¶å¹¶æ¶ˆè´¹ã€‚</strong></p>
<p>ps:Xè¡¨ç¤ºäº¤æ¢å™¨ï¼Œåœ¨RabbitMQä¸­ï¼Œäº¤æ¢å™¨ä¸»è¦æœ‰å››ç§ç±»å‹:directã€fanoutã€topicã€headersï¼Œè¿™é‡Œçš„äº¤æ¢å™¨æ˜¯ fanoutã€‚</p>
<p>è¿™é‡Œæ¼”ç¤ºä¸€ä¸ªäº¤æ¢æœºç»‘å®šä¸¤ä¸ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—åˆ†åˆ«è¢«ä¸¤ä¸ªæ¶ˆè´¹è€…ç›‘å¬çš„æƒ…å†µï¼ï¼</p>
<blockquote>
<p>ç”Ÿäº§è€…ï¼šä¸workæ¨¡å¼çš„ä¸åŒåœ¨äºFanoutExchangeConfig ä¸­éœ€è¦å®šä¹‰äº¤æ¢æœºå¹¶å°†é˜Ÿåˆ—ä¸äº¤æ¢æœºç»‘å®šã€‚è¿™é‡Œæ–°å»ºä¸€ä¸ªfanoutåŒ…</p>
</blockquote>
<p>1 FanoutConfigé…ç½®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desc</span> å‘å¸ƒè®¢é˜…æ¨¡å¼ é…ç½®ä¸¤ä¸ªé˜Ÿåˆ—ä¸€ä¸ªäº¤æ¢æœº</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FanoutConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">// é˜Ÿåˆ—ä¸€</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">FanoutQueueOne</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">&quot;rabbit_fanout_queue_one&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é˜Ÿåˆ—äºŒ</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">FanoutQueueTwo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">&quot;rabbit_fanout_queue_two&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//äº¤æ¢æœº å£°æ˜ä¸ºFanoutExchangeç±»å‹</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FanoutExchange <span class="title">fanoutExchange</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> FanoutExchange(<span class="string">&quot;fanout_exchange&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç»‘å®šé˜Ÿåˆ—ä¸€åˆ°äº¤æ¢æœº</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> FanoutQueueOne ä¸Šæ–¹å®šä¹‰çš„é˜Ÿåˆ—ä¸€æ–¹æ³•å  æ ¹æ®æ­¤æ–¹æ³•åå‚æ•° å™¨ä¼šè‡ªåŠ¨æ³¨å…¥å¯¹åº”bean</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fanoutExchange ä¸Šæ–¹å®šä¹‰çš„äº¤æ¢æœºæ–¹æ³•å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Binding <span class="title">bindingFanoutExchangeA</span><span class="params">(Queue FanoutQueueOne, FanoutExchange fanoutExchange)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(FanoutQueueOne).to(fanoutExchange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç»‘å®šé˜Ÿåˆ—äºŒåˆ°äº¤æ¢æœº</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> FanoutQueueTwo  ä¸Šæ–¹å®šä¹‰çš„é˜Ÿåˆ—äºŒæ–¹æ³•å  æ ¹æ®æ­¤æ–¹æ³•åå‚æ•° å™¨ä¼šè‡ªåŠ¨æ³¨å…¥å¯¹åº”bean   å½“</span></span><br><span class="line"><span class="comment">     *                        ç„¶ä¹Ÿå¯ä»¥çœç•¥å‚æ•° ç›´æ¥åœ¨bindä¸­æŒ‡å®šé˜Ÿåˆ—æ„å»ºæ–¹æ³•å ä¾‹å¦‚ FanoutQueueTwo()</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fanoutExchange ä¸Šæ–¹å®šä¹‰çš„äº¤æ¢æœºæ–¹æ³•å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Binding <span class="title">bindingFanoutExchangeB</span><span class="params">(Queue FanoutQueueTwo, FanoutExchange  fanoutExchange)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(FanoutQueueTwo).to(fanoutExchange);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2 FanoutProviderServerç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FanoutProviderServer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendFanoutMessage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            rabbitTemplate.convertAndSend(<span class="string">&quot;fanout_exchange&quot;</span>,<span class="string">&quot;&quot;</span>, JSON.toJSONString(<span class="keyword">new</span> Vehicle(i,i+<span class="string">&quot;å‘å¸ƒè®¢é˜…è½¦è½¦&quot;</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3 æµ‹è¯•æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">FanoutProviderServer fanoutProviderServer;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fanoutTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    fanoutProviderServer.sendFanoutMessage();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>æ¶ˆè´¹è€…ï¼šä¸workçš„ä¸åŒåœ¨äºå‡ºç°äº†é˜Ÿåˆ—ï¼ï¼æ¯ä¸ªé˜Ÿåˆ—æœ‰å±äºè‡ªå·±çš„æ¶ˆè´¹è€…</p>
</blockquote>
<p>1 FanoutConfigä¸ç”Ÿäº§è€…ç›¸åŒ</p>
<p>2 FanoutConsumerç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FanoutConsumer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;rabbit_fanout_queue_one&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">consumerOne</span><span class="params">(Message message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;rabbit_fanout_queue_oneé˜Ÿåˆ— æ¶ˆè´¹è€…1ï¼šæ”¶åˆ°æ¶ˆæ¯---&quot;</span> + JSON.parseObject(<span class="keyword">new</span> String(message.getBody()), Vehicle.class));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;rabbit_fanout_queue_one&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">consumerOne2</span><span class="params">(Message message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;rabbit_fanout_queue_oneé˜Ÿåˆ— æ¶ˆè´¹è€…2ï¼šæ”¶åˆ°æ¶ˆæ¯---&quot;</span> + JSON.parseObject(<span class="keyword">new</span> String(message.getBody()),Vehicle.class));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//-------------ä¸€ä¸ªé˜Ÿåˆ—ç»‘å®šä¸¤ä¸ªæ¶ˆè´¹è€… --------------------------------</span></span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;rabbit_fanout_queue_two&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">consumerTwo</span><span class="params">(Message message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;rabbit_fanout_queue_twoé˜Ÿåˆ— æ¶ˆè´¹è€…1ï¼šæ”¶åˆ°æ¶ˆæ¯---&quot;</span> + JSON.parseObject(<span class="keyword">new</span> String(message.getBody()),Vehicle.class));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RabbitListener(queues = &quot;rabbit_fanout_queue_two&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">consumerTwo2</span><span class="params">(Message message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;rabbit_fanout_queue_twoé˜Ÿåˆ— æ¶ˆè´¹è€…2ï¼šæ”¶åˆ°æ¶ˆæ¯---&quot;</span> + JSON.parseObject(<span class="keyword">new</span> String(message.getBody()),Vehicle.class));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3 è¿è¡Œ</p>
<img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/aHR0cHM6Ly9sZWlsZWlkZXYub3NzLWNuLWNoZW5nZHUuYWxpeXVuY3MuY29tL2ltZy9pbWFnZS0yMDIwMDcxNTIyMjAyODI2MS5wbmc" alt="image-20200715222028261" style="zoom:80%;">



<p>ï¼Ÿäº¤æ¢æœºä¸­æœ‰10è¾†è½¦ï¼Œç»“æœæ˜¯ï¼šæ¯ä¸ªé˜Ÿåˆ—ä¸­éƒ½æœ‰10è¾†è½¦ã€ç„¶åæ¯ä¸ªæ¶ˆè´¹è€…åªæ”¶åˆ°5ä¸ªè®¢é˜…ï¼Ÿï¼ˆæœ‰ç‚¹ä¸å¤ªç¬¦åˆå¸¸ç†ã€é˜Ÿåˆ—çš„é‡Œé¢ä¹Ÿåº”è¯¥åªæœ‰5è¾†è½¦æ‰å¯¹å•Šï¼‰</p>
<h2 id="4ã€è·¯ç”±æ¨¡å¼-Direct"><a href="#4ã€è·¯ç”±æ¨¡å¼-Direct" class="headerlink" title="4ã€è·¯ç”±æ¨¡å¼(Direct)"></a>4ã€è·¯ç”±æ¨¡å¼(Direct)</h2><p>ã€€ã€€<img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/2085237-20200809102728550-2145677626.png" alt="img"></p>
<p>ç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€åˆ°directäº¤æ¢å™¨ï¼Œåœ¨ç»‘å®šé˜Ÿåˆ—å’Œäº¤æ¢å™¨çš„æ—¶å€™æœ‰ä¸€ä¸ªè·¯ç”±keyï¼Œç”Ÿäº§è€…å‘é€çš„æ¶ˆæ¯ä¼šæŒ‡å®šä¸€ä¸ªè·¯ç”±keyï¼Œé‚£ä¹ˆæ¶ˆæ¯åªä¼šå‘é€åˆ°ç›¸åº”keyç›¸åŒçš„é˜Ÿåˆ—ï¼Œæ¥ç€ç›‘å¬è¯¥é˜Ÿåˆ—çš„æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯ã€‚</p>
<p><strong>ä¹Ÿå°±æ˜¯è®©æ¶ˆè´¹è€…æœ‰é€‰æ‹©æ€§çš„æ¥æ”¶æ¶ˆæ¯ã€‚</strong></p>
<blockquote>
<p>ç”Ÿäº§è€…ï¼š</p>
</blockquote>
<blockquote>
<p>æ¶ˆè´¹è€…ï¼š</p>
</blockquote>
<h2 id="5ã€ä¸»é¢˜æ¨¡å¼-Topic"><a href="#5ã€ä¸»é¢˜æ¨¡å¼-Topic" class="headerlink" title="5ã€ä¸»é¢˜æ¨¡å¼(Topic)"></a>5ã€ä¸»é¢˜æ¨¡å¼(Topic)</h2><p>ã€€<img src="/2021/07/10/%E6%A1%86%E6%9E%B6_09_RabbitMQ_wukang/2085237-20200809102817259-1720328664.png" alt="img"></p>
<p>ä¸Šé¢çš„è·¯ç”±æ¨¡å¼æ˜¯æ ¹æ®è·¯ç”±keyè¿›è¡Œå®Œæ•´çš„åŒ¹é…ï¼ˆå®Œå…¨ç›¸ç­‰æ‰å‘é€æ¶ˆæ¯ï¼‰ï¼Œè¿™é‡Œçš„é€šé…ç¬¦æ¨¡å¼é€šä¿—çš„æ¥è®²å°±æ˜¯æ¨¡ç³ŠåŒ¹é…ã€‚</p>
<p><strong>ç¬¦å·â€œ#â€è¡¨ç¤ºåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªè¯ï¼Œç¬¦å·â€œ*â€è¡¨ç¤ºåŒ¹é…ä¸€ä¸ªè¯ã€‚</strong></p>
<blockquote>
<p>ç”Ÿäº§è€…ï¼š</p>
</blockquote>
<blockquote>
<p>æ¶ˆè´¹è€…ï¼š</p>
</blockquote>
<h1 id="4-RabbitMQè¿›é˜¶"><a href="#4-RabbitMQè¿›é˜¶" class="headerlink" title="4 RabbitMQè¿›é˜¶"></a>4 RabbitMQè¿›é˜¶</h1><p>ï¼ˆä¸‹æ¬¡ä¸€å®šï¼Œç›®å‰å­¦ä¼šæ•´åˆRabbitMQå°±è¡Œ07/08ï¼‰</p>

    </div>

    <div>
      
          
<div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">
              -------------æ„Ÿè°¢é˜…è¯»<i class="fa fa-paw"></i>æ²¡äº‹å¸¸æ¥-------------
        </div>
    
</div>
      
    </div>
    
    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    Donate
  </button>
  <div id="qr" style="display: none;">

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%A1%86%E6%9E%B6/" rel="tag"># æ¡†æ¶</a>
              <a href="/tags/RabbitMQ/" rel="tag"># RabbitMQ</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/07/05/%E6%A1%86%E6%9E%B6_08_Linux_wukang/" rel="prev" title="Linux_ç¬”è®°ï¼ˆç‹‚ç¥ï¼‰">
      <i class="fa fa-chevron-left"></i> Linux_ç¬”è®°ï¼ˆç‹‚ç¥ï¼‰
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/07/20/%E9%9D%A2%E7%BB%8F_01_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="next" title="è®¡ç®—æœºç½‘ç»œå¤§èµ">
      è®¡ç®—æœºç½‘ç»œå¤§èµ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E5%92%8CRabbitMQ"><span class="nav-number">1.</span> <span class="nav-text">1 æ¶ˆæ¯é˜Ÿåˆ—å’ŒRabbitMQ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 æ¶ˆæ¯é˜Ÿåˆ—ä»‹ç»</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E3%80%90%E9%87%8D%E8%A6%81%E3%80%91"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨åœºæ™¯ã€é‡è¦ã€‘</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86"><span class="nav-number">1.2.1.</span> <span class="nav-text">å¼‚æ­¥å¤„ç†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E9%87%8F%E5%89%8A%E9%94%8B"><span class="nav-number">1.2.2.</span> <span class="nav-text">æµé‡å‰Šé”‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E8%A7%A3%E8%80%A6"><span class="nav-number">1.2.3.</span> <span class="nav-text">åº”ç”¨è§£è€¦</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-RabbitMQ%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 RabbitMQä»‹ç»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#RabbitMQ%E7%9A%84%E4%BC%98%E7%82%B9"><span class="nav-number">1.3.1.</span> <span class="nav-text">RabbitMQçš„ä¼˜ç‚¹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RabbitMQ-%E7%9A%84%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84"><span class="nav-number">1.3.2.</span> <span class="nav-text">RabbitMQ çš„æ•´ä½“æ¶æ„</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-RabbitMQ%E5%AE%89%E8%A3%85"><span class="nav-number">2.</span> <span class="nav-text">2 RabbitMQå®‰è£…</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E5%AE%89%E8%A3%85Erlang%E5%92%8CRabbitMQ"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 å®‰è£…Erlangå’ŒRabbitMQ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-RabbitMQWeb%E7%AE%A1%E7%90%86%E7%95%8C%E9%9D%A2"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 RabbitMQWebç®¡ç†ç•Œé¢</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-RabbitMQ%E4%BA%94%E7%A7%8D%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="nav-number">3.</span> <span class="nav-text">3 RabbitMQäº”ç§å·¥ä½œæ¨¡å¼</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E7%AE%80%E5%8D%95%E9%98%9F%E5%88%97%EF%BC%88Easy"><span class="nav-number">3.1.</span> <span class="nav-text">1ã€ç®€å•é˜Ÿåˆ—ï¼ˆEasy)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81work-%E6%A8%A1%E5%BC%8F"><span class="nav-number">3.2.</span> <span class="nav-text">2ã€work æ¨¡å¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E5%8F%91%E5%B8%83-%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%EF%BC%88Fanout%EF%BC%89"><span class="nav-number">3.3.</span> <span class="nav-text">3ã€å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼ï¼ˆFanoutï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4%E3%80%81%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%BC%8F-Direct"><span class="nav-number">3.4.</span> <span class="nav-text">4ã€è·¯ç”±æ¨¡å¼(Direct)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5%E3%80%81%E4%B8%BB%E9%A2%98%E6%A8%A1%E5%BC%8F-Topic"><span class="nav-number">3.5.</span> <span class="nav-text">5ã€ä¸»é¢˜æ¨¡å¼(Topic)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-RabbitMQ%E8%BF%9B%E9%98%B6"><span class="nav-number">4.</span> <span class="nav-text">4 RabbitMQè¿›é˜¶</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Wu kang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">33</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wu kang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
